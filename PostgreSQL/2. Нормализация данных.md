**Нормализация данных** — это процесс организации структуры базы данных для минимизации избыточности и предотвращения аномалий при изменении данных. Цель нормализации — сделать данные более компактными, уменьшить дублирование и повысить целостность.

### Основные этапы нормализации:

#### 1. **Первая нормальная форма (1NF)**

- Все атрибуты (столбцы) должны содержать атомарные значения (неразделимые).
- Все записи должны быть уникальными, не должно быть повторяющихся строк.

**Пример:** Таблица с полем, в котором хранятся несколько значений:

| ID  | Имя  | Телефон  |
| --- | ---- | -------- |
| 1   | Иван | 123, 456 |

После приведения к 1NF:

|ID|Имя|Телефон|
|---|---|---|
|1|Иван|123|
|1|Иван|456|

#### 2. **Вторая нормальная форма (2NF)**

- Таблица уже в 1NF.
- Устранены частичные зависимости (атрибуты должны зависеть от всего первичного ключа, а не от части его).

**Пример:** Таблица, где адрес зависит только от имени пользователя:

|ID|Имя|Город|Адрес|
|---|---|---|---|
|1|Иван|Москва|Ул. Ленина, 10|

Здесь поле "Город" не зависит от первичного ключа. Мы создадим отдельную таблицу для хранения данных о городах.

#### 3. **Третья нормальная форма (3NF)**

- Таблица находится во 2NF.
- Устранены транзитивные зависимости (атрибуты не должны зависеть от других атрибутов, кроме первичного ключа).

**Пример:**

|ID|Имя|Город|Почтовый индекс|
|---|---|---|---|
|1|Иван|Москва|123456|

Почтовый индекс зависит от города, а не от имени пользователя, значит, город и индекс нужно вынести в отдельную таблицу.

Изначально, если хранить и адрес, и почтовый индекс в одной таблице, мы можем столкнуться с дублированием данных, если несколько пользователей проживают в одном и том же городе или по одному и тому же адресу. Это ведет к избыточности.

В процессе нормализации адрес и почтовый индекс могут быть вынесены в отдельные таблицы.

### 1. **До нормализации:**

|ID|Имя|Город|Адрес|Почтовый индекс|
|---|---|---|---|---|
|1|Иван|Москва|Ул. Ленина, 10|123456|
|2|Петр|Москва|Ул. Ленина, 10|123456|

В данном примере и город, и индекс дублируются для каждого пользователя, что увеличивает избыточность данных.

### 2. **После нормализации:**

Разделим данные на две таблицы:

- **Таблица пользователей:**

|ID|Имя|Адрес ID|
|---|---|---|
|1|Иван|1|
|2|Петр|1|

- **Таблица адресов:**

|Адрес ID|Город|Адрес|Почтовый индекс|
|---|---|---|---|
|1|Москва|Ул. Ленина, 10|123456|

Теперь у нас есть таблица с пользователями, где вместо полного адреса используется ссылка на отдельную таблицу адресов. Это позволяет избежать дублирования данных и, если адрес изменится, не придется обновлять его для каждого пользователя вручную.

Таким образом, почтовый индекс — это атрибут адреса, и в нормализованной структуре он хранится в таблице адресов, а не в таблице пользователей.

### Итог:

Нормализация помогает избежать избыточности данных, поддерживать целостность и упрощать управление изменениями в базе. Однако иногда чрезмерная нормализация может ухудшать производительность при сложных запросах, поэтому важно находить баланс между нормализацией и практической эффективностью.