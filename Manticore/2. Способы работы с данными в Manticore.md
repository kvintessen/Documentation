Manticore Search может как индексировать данные извне, так и хранить их в своих собственных индексах. В отличие от Elasticsearch, который часто используется как хранилище данных (например, для логов или документов), Manticore преимущественно фокусируется на индексации и поиске данных, которые могут храниться в других системах, таких как реляционные базы данных (MySQL, PostgreSQL и т.д.).

1. **Индексы реального времени (Real-time indexes)**:

- Manticore поддерживает **индексы реального времени**, которые позволяют добавлять и изменять данные напрямую в движке. В этом случае данные хранятся непосредственно в индексах Manticore, и поиск происходит по этим данным.
- Однако, в отличие от Elasticsearch, Manticore не является полнофункциональной системой хранения данных (как база данных). Он не предназначен для выполнения операций CRUD на сложных структурах данных, таких как документы с вложенными объектами или JSON-структуры.

Пример работы с индексами реального времени:

```SQL
INSERT INTO my_index (id, title, content) VALUES (1, 'Заголовок', 'Текст статьи');
```

**Индексы с источниками данных (Data sources)**:

- Manticore часто используется как инструмент для индексирования данных, хранящихся в **внешних системах**. Например, можно настроить его на индексацию таблиц из MySQL или PostgreSQL. В этом случае Manticore берет данные из источников (например, из базы данных), индексирует их для быстрого поиска и обновляет индексы периодически.
- Этот способ наиболее распространён, когда Manticore используется как часть более сложной системы, где основное хранилище данных находится в базе данных, а Manticore используется для быстрого поиска по этим данным.

Пример конфигурации для индексации данных из MySQL:

```plaintext
source my_source {
    type          = mysql
    sql_host      = localhost
    sql_user      = user
    sql_pass      = password
    sql_db        = mydb
    sql_query     = SELECT id, title, content FROM articles;
}
```

1. **Интеграция с базами данных**:
    
    - Manticore часто используется как поисковый движок, который интегрируется с базами данных. Например, для больших баз данных, содержащих миллионы записей, Manticore можно использовать для индексации текста и быстрого поиска по нему. При этом сами данные (например, полное содержание статей или метаданные) могут храниться в базе данных, а Manticore обеспечивает быстрый доступ к ним на основе поисковых запросов.
    
    Работая с Manticore, обычно используется следующий процесс:
    
    - Данные хранятся в **реляционной базе данных** или другой системе хранения.
    - Manticore **индексирует** данные и поддерживает актуальность индексов.
    - При выполнении поискового запроса Manticore находит **идентификаторы** нужных записей, а затем приложение запрашивает полные данные из основной базы данных.

### Пример типичной архитектуры:

- **База данных (MySQL/PostgreSQL)**: хранит полные данные, такие как статьи, продукты или документы.
- **Manticore**: индексирует текстовые поля (названия, описания, ключевые слова) из базы данных для быстрого поиска.
- **Приложение**: отправляет поисковые запросы в Manticore, получает список идентификаторов найденных записей и затем извлекает полные данные из основной базы данных.

### Пример потока работы:

1. **Добавление данных**: Приложение добавляет новые записи (например, статьи или товары) в базу данных.
2. **Индексация**: Manticore периодически (или вручную) обновляет свои индексы, извлекая новые данные из базы данных.
3. **Поиск**: Пользователь вводит запрос для поиска (например, "смартфон Samsung"), и Manticore возвращает идентификаторы подходящих товаров.
4. **Извлечение полных данных**: Приложение на основе полученных идентификаторов извлекает полные данные о товарах из основной базы данных.

Таким образом, Manticore можно использовать как "поисковый слой" поверх реляционной базы данных или другого источника данных. В случае с **индексами реального времени**, Manticore может и хранить данные внутри себя, но это не его основная задача — чаще всего он используется для улучшения производительности поиска в существующих системах.